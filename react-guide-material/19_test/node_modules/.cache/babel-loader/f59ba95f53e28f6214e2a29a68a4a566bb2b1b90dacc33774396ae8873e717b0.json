{"ast":null,"code":"import { PointerEventsCheckLevel } from '../../options.js';\nimport { getWindow } from '../misc/getWindow.js';\nimport { isElementType } from '../misc/isElementType.js';\nimport { ApiLevel, getLevelRef } from '../misc/level.js';\nfunction hasPointerEvents(instance, element) {\n  var ref;\n  return ((ref = checkPointerEvents(instance, element)) === null || ref === void 0 ? void 0 : ref.pointerEvents) !== 'none';\n}\nfunction closestPointerEventsDeclaration(element) {\n  const window = getWindow(element);\n  for (let el = element, tree = []; el === null || el === void 0 ? void 0 : el.ownerDocument; el = el.parentElement) {\n    tree.push(el);\n    const pointerEvents = window.getComputedStyle(el).pointerEvents;\n    if (pointerEvents && !['inherit', 'unset'].includes(pointerEvents)) {\n      return {\n        pointerEvents,\n        tree\n      };\n    }\n  }\n  return undefined;\n}\nconst PointerEventsCheck = Symbol('Last check for pointer-events');\nfunction checkPointerEvents(instance, element) {\n  const lastCheck = element[PointerEventsCheck];\n  const needsCheck = instance.config.pointerEventsCheck !== PointerEventsCheckLevel.Never && (!lastCheck || hasBitFlag(instance.config.pointerEventsCheck, PointerEventsCheckLevel.EachApiCall) && lastCheck[ApiLevel.Call] !== getLevelRef(instance, ApiLevel.Call) || hasBitFlag(instance.config.pointerEventsCheck, PointerEventsCheckLevel.EachTrigger) && lastCheck[ApiLevel.Trigger] !== getLevelRef(instance, ApiLevel.Trigger));\n  if (!needsCheck) {\n    return lastCheck === null || lastCheck === void 0 ? void 0 : lastCheck.result;\n  }\n  const declaration = closestPointerEventsDeclaration(element);\n  element[PointerEventsCheck] = {\n    [ApiLevel.Call]: getLevelRef(instance, ApiLevel.Call),\n    [ApiLevel.Trigger]: getLevelRef(instance, ApiLevel.Trigger),\n    result: declaration\n  };\n  return declaration;\n}\nfunction assertPointerEvents(instance, element) {\n  const declaration = checkPointerEvents(instance, element);\n  if ((declaration === null || declaration === void 0 ? void 0 : declaration.pointerEvents) === 'none') {\n    throw new Error([`Unable to perform pointer interaction as the element ${declaration.tree.length > 1 ? 'inherits' : 'has'} \\`pointer-events: none\\`:`, '', printTree(declaration.tree)].join('\\n'));\n  }\n}\nfunction printTree(tree) {\n  return tree.reverse().map((el, i) => [''.padEnd(i), el.tagName, el.id && `#${el.id}`, el.hasAttribute('data-testid') && `(testId=${el.getAttribute('data-testid')})`, getLabelDescr(el), tree.length > 1 && i === 0 && '  <-- This element declared `pointer-events: none`', tree.length > 1 && i === tree.length - 1 && '  <-- Asserted pointer events here'].filter(Boolean).join('')).join('\\n');\n}\nfunction getLabelDescr(element) {\n  var ref;\n  let label;\n  if (element.hasAttribute('aria-label')) {\n    label = element.getAttribute('aria-label');\n  } else if (element.hasAttribute('aria-labelledby')) {\n    var ref1, ref2;\n    label = (ref1 = element.ownerDocument.getElementById(element.getAttribute('aria-labelledby'))) === null || ref1 === void 0 ? void 0 : (ref2 = ref1.textContent) === null || ref2 === void 0 ? void 0 : ref2.trim();\n  } else if (isElementType(element, ['button', 'input', 'meter', 'output', 'progress', 'select', 'textarea']) && ((ref = element.labels) === null || ref === void 0 ? void 0 : ref.length)) {\n    label = Array.from(element.labels).map(el => {\n      var ref;\n      return (ref = el.textContent) === null || ref === void 0 ? void 0 : ref.trim();\n    }).join('|');\n  } else if (isElementType(element, 'button')) {\n    var ref3;\n    label = (ref3 = element.textContent) === null || ref3 === void 0 ? void 0 : ref3.trim();\n  }\n  label = label === null || label === void 0 ? void 0 : label.replace(/\\n/g, '  ');\n  if (Number(label === null || label === void 0 ? void 0 : label.length) > 30) {\n    label = `${label === null || label === void 0 ? void 0 : label.substring(0, 29)}…`;\n  }\n  return label ? `(label=${label})` : '';\n}\n// With the eslint rule and prettier the bitwise operation isn't nice to read\nfunction hasBitFlag(conf, flag) {\n  // eslint-disable-next-line no-bitwise\n  return (conf & flag) > 0;\n}\nexport { assertPointerEvents, hasPointerEvents };","map":{"version":3,"names":["PointerEventsCheckLevel","getWindow","isElementType","ApiLevel","getLevelRef","hasPointerEvents","instance","element","ref","checkPointerEvents","pointerEvents","closestPointerEventsDeclaration","window","el","tree","ownerDocument","parentElement","push","getComputedStyle","includes","undefined","PointerEventsCheck","Symbol","lastCheck","needsCheck","config","pointerEventsCheck","Never","hasBitFlag","EachApiCall","Call","EachTrigger","Trigger","result","declaration","assertPointerEvents","Error","length","printTree","join","reverse","map","i","padEnd","tagName","id","hasAttribute","getAttribute","getLabelDescr","filter","Boolean","label","ref1","ref2","getElementById","textContent","trim","labels","Array","from","ref3","replace","Number","substring","conf","flag"],"sources":["/Users/furusawakoutarou/Desktop/programming/React/react-guide-material/19_test/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js"],"sourcesContent":["import { PointerEventsCheckLevel } from '../../options.js';\nimport { getWindow } from '../misc/getWindow.js';\nimport { isElementType } from '../misc/isElementType.js';\nimport { ApiLevel, getLevelRef } from '../misc/level.js';\n\nfunction hasPointerEvents(instance, element) {\n    var ref;\n    return ((ref = checkPointerEvents(instance, element)) === null || ref === void 0 ? void 0 : ref.pointerEvents) !== 'none';\n}\nfunction closestPointerEventsDeclaration(element) {\n    const window = getWindow(element);\n    for(let el = element, tree = []; el === null || el === void 0 ? void 0 : el.ownerDocument; el = el.parentElement){\n        tree.push(el);\n        const pointerEvents = window.getComputedStyle(el).pointerEvents;\n        if (pointerEvents && ![\n            'inherit',\n            'unset'\n        ].includes(pointerEvents)) {\n            return {\n                pointerEvents,\n                tree\n            };\n        }\n    }\n    return undefined;\n}\nconst PointerEventsCheck = Symbol('Last check for pointer-events');\nfunction checkPointerEvents(instance, element) {\n    const lastCheck = element[PointerEventsCheck];\n    const needsCheck = instance.config.pointerEventsCheck !== PointerEventsCheckLevel.Never && (!lastCheck || hasBitFlag(instance.config.pointerEventsCheck, PointerEventsCheckLevel.EachApiCall) && lastCheck[ApiLevel.Call] !== getLevelRef(instance, ApiLevel.Call) || hasBitFlag(instance.config.pointerEventsCheck, PointerEventsCheckLevel.EachTrigger) && lastCheck[ApiLevel.Trigger] !== getLevelRef(instance, ApiLevel.Trigger));\n    if (!needsCheck) {\n        return lastCheck === null || lastCheck === void 0 ? void 0 : lastCheck.result;\n    }\n    const declaration = closestPointerEventsDeclaration(element);\n    element[PointerEventsCheck] = {\n        [ApiLevel.Call]: getLevelRef(instance, ApiLevel.Call),\n        [ApiLevel.Trigger]: getLevelRef(instance, ApiLevel.Trigger),\n        result: declaration\n    };\n    return declaration;\n}\nfunction assertPointerEvents(instance, element) {\n    const declaration = checkPointerEvents(instance, element);\n    if ((declaration === null || declaration === void 0 ? void 0 : declaration.pointerEvents) === 'none') {\n        throw new Error([\n            `Unable to perform pointer interaction as the element ${declaration.tree.length > 1 ? 'inherits' : 'has'} \\`pointer-events: none\\`:`,\n            '',\n            printTree(declaration.tree), \n        ].join('\\n'));\n    }\n}\nfunction printTree(tree) {\n    return tree.reverse().map((el, i)=>[\n            ''.padEnd(i),\n            el.tagName,\n            el.id && `#${el.id}`,\n            el.hasAttribute('data-testid') && `(testId=${el.getAttribute('data-testid')})`,\n            getLabelDescr(el),\n            tree.length > 1 && i === 0 && '  <-- This element declared `pointer-events: none`',\n            tree.length > 1 && i === tree.length - 1 && '  <-- Asserted pointer events here', \n        ].filter(Boolean).join('')).join('\\n');\n}\nfunction getLabelDescr(element) {\n    var ref;\n    let label;\n    if (element.hasAttribute('aria-label')) {\n        label = element.getAttribute('aria-label');\n    } else if (element.hasAttribute('aria-labelledby')) {\n        var ref1, ref2;\n        label = (ref1 = element.ownerDocument.getElementById(element.getAttribute('aria-labelledby'))) === null || ref1 === void 0 ? void 0 : (ref2 = ref1.textContent) === null || ref2 === void 0 ? void 0 : ref2.trim();\n    } else if (isElementType(element, [\n        'button',\n        'input',\n        'meter',\n        'output',\n        'progress',\n        'select',\n        'textarea', \n    ]) && ((ref = element.labels) === null || ref === void 0 ? void 0 : ref.length)) {\n        label = Array.from(element.labels).map((el)=>{\n            var ref;\n            return (ref = el.textContent) === null || ref === void 0 ? void 0 : ref.trim();\n        }).join('|');\n    } else if (isElementType(element, 'button')) {\n        var ref3;\n        label = (ref3 = element.textContent) === null || ref3 === void 0 ? void 0 : ref3.trim();\n    }\n    label = label === null || label === void 0 ? void 0 : label.replace(/\\n/g, '  ');\n    if (Number(label === null || label === void 0 ? void 0 : label.length) > 30) {\n        label = `${label === null || label === void 0 ? void 0 : label.substring(0, 29)}…`;\n    }\n    return label ? `(label=${label})` : '';\n}\n// With the eslint rule and prettier the bitwise operation isn't nice to read\nfunction hasBitFlag(conf, flag) {\n    // eslint-disable-next-line no-bitwise\n    return (conf & flag) > 0;\n}\n\nexport { assertPointerEvents, hasPointerEvents };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}